一.什么是行锁和表锁?
    1. 行锁:对一个表锁住某几行,其他事务对锁住的行不能进行写操作.
    2. 表锁:锁住整个表,其他事务对整个表不能进行写操作.
    3. 注意:这两个锁都是针对于事务来说的,没有开启事务或者是在一个事务里面也就不存在锁了.
 
 二.行锁和表锁的特点.
    1. 行锁可以支持更好的并发,但可能发生死锁
    2. 表锁不会发生死锁,对并发支持低.
 
三.分类. 
   1. 行锁.
     (1).共享锁: 在执行语句后加上lock in share mode,又叫读锁
         当一个事务对某几行上读锁操作时,可以允许其他事务读,不允许写,但允许其他事务上读锁,         
     (2).排他锁: 在执行语句后加上for update,又叫写锁. 
       当一个事务对某几个上写锁时，不允许其他事务写，但允许读。更不允许其他事务给这几行上任何锁

      注意手动上这两个锁时,只有查询语句可以加锁,更新语句不可以.
            
   2. 表锁.
 
四.注意事项.
   1.如果对某几行上行锁,但是没有索引,会变成表锁.行锁是针对索引来实现的
      其实这里是错误的，并不是对变成表锁，而是对整个所有的数据行加行锁，因为在不使用索引的情况下，mysql并不知道哪些符合条件。会全部加锁返回。
     在一个事务中执行.
        SELECT * FROM account  WHERE NAME IN('张三','嗨') LOCK IN SHARE MODE
     然后在另一个窗口执行. 
        UPDATE account SET NAME="张五" WHERE id=2.就会被锁住.如果对name加了索引就不会被锁住了.
   2.两个事务不能锁同一个索引.

五.深入理解锁.
   数据库的事务及其事务的隔离级别，但是数据库是怎样隔离事务的呢？这时候就牵连到了数据库锁。当插入数据时，就锁定表，这叫做”锁表”(其他不能做删除或新增操作,可以做更新)；当更新数据时，就锁定行，这叫做”锁行”。

   锁在数据网络传输中是一个非常重要的概念，当多个用户对数据库进行操作时，会带来数据不一致的情况，所以，锁主要是在多用户情况下保证数据库数据完整性和一致性。     

六.数据库得自动加锁.InnoDB引擎.
    当对表执行update,insert,delete操作时,会对涉及到得行默认加行级锁.其他事务可以读,但是不可以写.
    加的行级锁应该时排他锁,因为并不能上读锁
    
     
   
 