
一.简介.
    消息队列(Message Queue),就是把数据放在队列中,把产生数据的叫做生产者,取出数据的叫做消费者.


二.为什么要用消息队列.
    1.可以解耦.
      举例:
         有一个大的系统,分成系统A,系统B,系统C三个部分,系统A负责从客户端接收请求,并产生一个id,系统B和系统C拿着这个id去做别的事情, 那么在系统A的代码里会将id传给系统b和
       系统C,但是有一个问题,可能会改来改去,比如说有一天不用系统C了,换成系统D了,那么就需要频繁的改动系统A的代码,很麻烦.
      解决办法:
         使用消息队列,将系统A产生的id放在队列中,谁去取就不管系统A的事了,就不需要改动了,就实现了解耦.
     2.异步.
        举例:
           系统A负责接收订单,并产生订单id,然后给了系统B,系统C发短信啊,消息提醒啊,这些,如果等这些流程全部处理完可能要一分钟,这是非常漫长的,怎么办?
        解决办法:
          使用消息队列,系统A产生订单id放入消息队列中就可以直接返回了.后面的流程异步进行,可能只需要10ms.
     3.削峰.
        举例:
           比如某天搞活动,访问量特别大,可以达到每分钟三千,我有两台服务器,每一台最多只能接收一千的访问量,那多出来的这一千可能直接把我的服务搞崩掉,那怎么办?
         解决办法:
           使用消息队列,将所有的访问请求放在消息队列中,每台服务器根据自己的处理能力去取,从而保持服务正常运行,就是削峰.
             
   