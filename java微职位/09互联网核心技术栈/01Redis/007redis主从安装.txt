一.在我们之前安装的都是单点模式.
       那么单点模式有什么缺陷呢?
          1.机器缺陷.
             如果一台机器出现故障,就不能用了.
          2.容量限制.
             一台机器的容量总归是有限的.
          3.qps(每秒查询率)限制.
             一个redis的QPS也总是有限的,如果需要更高,则需要多个.

二.主从复制.
     在redis集群中,可能有两个或两个以上的redis节点,那么这些节点有什么关系呢?也就是主从的关系,
     1.特点.
        a. 一个主节点可以有多个从节点,而一个从节点只能隶属于一个主节点.
        b.不论主节点还是从节点,都会有一个完全的数据副本,主从节点之间的数据是同步的.
        c.从节点提供读的服务,不能写
          因为如果从节点也可以写,主节点也可以写,数据的偏移量达不到一致.
      2.作用.
        a.提供数据副本.
        b.扩展读性能
三.配置.
     注意在生产环境中主从节点配置到一个机器中是没有意义的,这里只是学习.配置到一起.
     1.命令行配置.
        a.先建文件夹.
           建一个master-slave(从)文件夹,在这个文件夹里建立节点文件夹,有几个节点就建立几个.名称以端口命名,每个节点下都有三个文件conf,data,logs.
           一次建立多个文件夹命令:
           mkdir -pv {10190,10191,10192}/{conf,data,logs}  一次性建立10190这三个文件夹,并在每个文件夹下面建立conf.data.logs文件夹.
      2.配置文件配置.(生产环境常用) 


怎么进行数据同步:
            全量同步:在刚连接成功的时候,主节点进行bgsave,之后把快照文件发送给从节点,从节点接收后.丢弃旧数据,载入快照.
            增量同步:主节点每执行一个写命令就会向服务器发送相同的命令,然后从节点接收并执行.